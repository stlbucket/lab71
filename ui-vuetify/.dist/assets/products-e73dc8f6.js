import{p as _,g as J,d as b,f,q as R,t as u,v as Q,K as q,u as X,S as A,s as z,r as C,w,a3 as p,a5 as ee,U as W,a7 as te,Z as ne,V as ae,B as D,ag as F,ah as B,A as se,i as re,Y as le,C as ie,E as oe,ai as ue,D as ce,aj as de,ak as ve,al as ge}from"./index-cec9332a.js";const V=_({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function T(e){const a=J("useRender");a.render=e}const me=_({tag:{type:String,default:"div"}},"tag");const fe=_({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function he(e){return{dimensionStyles:b(()=>({height:f(e.height),maxHeight:f(e.maxHeight),maxWidth:f(e.maxWidth),minHeight:f(e.minHeight),minWidth:f(e.minWidth),width:f(e.width)}))}}function Se(e){return{aspectStyles:b(()=>{const a=Number(e.aspectRatio);return a?{paddingBottom:String(1/a*100)+"%"}:void 0})}}const E=_({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...V(),...fe()},"VResponsive"),H=R()({name:"VResponsive",props:E(),setup(e,a){let{slots:t}=a;const{aspectStyles:n}=Se(e),{dimensionStyles:o}=he(e);return T(()=>{var l;return u("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[o.value,e.style]},[u("div",{class:"v-responsive__sizer",style:n.value},null),(l=t.additional)==null?void 0:l.call(t),t.default&&u("div",{class:["v-responsive__content",e.contentClass]},[t.default()])])}),{}}}),ye=_({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),I=(e,a)=>{let{slots:t}=a;const{transition:n,disabled:o,...l}=e,{component:i=X,...v}=typeof n=="object"?n:{};return Q(i,q(typeof n=="string"?{name:o?"":n}:v,l,{disabled:o}),t)};function be(e,a){if(!A)return;const t=a.modifiers||{},n=a.value,{handler:o,options:l}=typeof n=="object"?n:{handler:n,options:{}},i=new IntersectionObserver(function(){var m;let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1?arguments[1]:void 0;const r=(m=e._observe)==null?void 0:m[a.instance.$.uid];if(!r)return;const c=v.some(S=>S.isIntersecting);o&&(!t.quiet||r.init)&&(!t.once||c||r.init)&&o(c,v,g),c&&t.once?M(e,a):r.init=!0},l);e._observe=Object(e._observe),e._observe[a.instance.$.uid]={init:!1,observer:i},i.observe(e)}function M(e,a){var n;const t=(n=e._observe)==null?void 0:n[a.instance.$.uid];t&&(t.observer.unobserve(e),delete e._observe[a.instance.$.uid])}const _e={mounted:be,unmounted:M},Ce=_e,ze=_({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...E(),...V(),...ye()},"VImg"),Te=R()({name:"VImg",directives:{intersect:Ce},props:ze(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,a){let{emit:t,slots:n}=a;const o=z(""),l=C(),i=z(e.eager?"loading":"idle"),v=z(),g=z(),r=b(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),c=b(()=>r.value.aspect||v.value/g.value||0);w(()=>e.src,()=>{m(i.value!=="idle")}),w(c,(s,d)=>{!s&&d&&l.value&&x(l.value)}),p(()=>m());function m(s){if(!(e.eager&&s)&&!(A&&!s&&!e.eager)){if(i.value="loading",r.value.lazySrc){const d=new Image;d.src=r.value.lazySrc,x(d,null)}r.value.src&&ee(()=>{var d,y;if(t("loadstart",((d=l.value)==null?void 0:d.currentSrc)||r.value.src),(y=l.value)!=null&&y.complete){if(l.value.naturalWidth||h(),i.value==="error")return;c.value||x(l.value,null),S()}else c.value||x(l.value),P()})}}function S(){var s;P(),i.value="loaded",t("load",((s=l.value)==null?void 0:s.currentSrc)||r.value.src)}function h(){var s;i.value="error",t("error",((s=l.value)==null?void 0:s.currentSrc)||r.value.src)}function P(){const s=l.value;s&&(o.value=s.currentSrc||s.src)}let k=-1;function x(s){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const y=()=>{clearTimeout(k);const{naturalHeight:j,naturalWidth:O}=s;j||O?(v.value=O,g.value=j):!s.complete&&i.value==="loading"&&d!=null?k=window.setTimeout(y,d):(s.currentSrc.endsWith(".svg")||s.currentSrc.startsWith("data:image/svg+xml"))&&(v.value=1,g.value=1)};y()}const $=b(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),L=()=>{var y;if(!r.value.src||i.value==="idle")return null;const s=u("img",{class:["v-img__img",$.value],src:r.value.src,srcset:r.value.srcset,alt:e.alt,sizes:e.sizes,ref:l,onLoad:S,onError:h},null),d=(y=n.sources)==null?void 0:y.call(n);return u(I,{transition:e.transition,appear:!0},{default:()=>[W(d?u("picture",{class:"v-img__picture"},[d,s]):s,[[ae,i.value==="loaded"]])]})},K=()=>u(I,{transition:e.transition},{default:()=>[r.value.lazySrc&&i.value!=="loaded"&&u("img",{class:["v-img__img","v-img__img--preload",$.value],src:r.value.lazySrc,alt:e.alt},null)]}),Y=()=>n.placeholder?u(I,{transition:e.transition,appear:!0},{default:()=>[(i.value==="loading"||i.value==="error"&&!n.error)&&u("div",{class:"v-img__placeholder"},[n.placeholder()])]}):null,Z=()=>n.error?u(I,{transition:e.transition,appear:!0},{default:()=>[i.value==="error"&&u("div",{class:"v-img__error"},[n.error()])]}):null,G=()=>e.gradient?u("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,N=z(!1);{const s=w(c,d=>{d&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{N.value=!0})}),s())})}return T(()=>{const[s]=H.filterProps(e);return W(u(H,q({class:["v-img",{"v-img--booting":!N.value},e.class],style:e.style},s,{aspectRatio:c.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>u(ne,null,[u(L,null,null),u(K,null,null),u(G,null,null),u(Y,null,null),u(Z,null,null)]),default:n.default}),[[te("intersect"),{handler:m,options:e.options},null,{once:!0}]])}),{currentSrc:o,image:l,state:i,naturalWidth:v,naturalHeight:g}}});function U(e){return F(()=>{const a=[],t={};return e.value.background&&(B(e.value.background)?t.backgroundColor=e.value.background:a.push(`bg-${e.value.background}`)),e.value.text&&(B(e.value.text)?(t.color=e.value.text,t.caretColor=e.value.text):a.push(`text-${e.value.text}`)),{colorClasses:a,colorStyles:t}})}function Pe(e,a){const t=b(()=>({text:D(e)?e.value:a?e[a]:null})),{colorClasses:n,colorStyles:o}=U(t);return{textColorClasses:n,textColorStyles:o}}function $e(e,a){const t=b(()=>({background:D(e)?e.value:a?e[a]:null})),{colorClasses:n,colorStyles:o}=U(t);return{backgroundColorClasses:n,backgroundColorStyles:o}}const ke=["x-small","small","default","large","x-large"],xe=_({size:{type:[String,Number],default:"default"}},"size");function Ie(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se();return F(()=>{let t,n;return re(ke,e.size)?t=`${a}--size-${e.size}`:e.size&&(n={width:f(e.size),height:f(e.size)}),{sizeClasses:t,sizeStyles:n}})}const we=_({color:String,start:Boolean,end:Boolean,icon:le,...V(),...xe(),...me({tag:"i"}),...ie()},"VIcon"),Ne=R()({name:"VIcon",props:we(),setup(e,a){let{attrs:t,slots:n}=a;const o=C(),{themeClasses:l}=oe(e),{iconData:i}=ue(b(()=>o.value||e.icon)),{sizeClasses:v}=Ie(e),{textColorClasses:g,textColorStyles:r}=Pe(ce(e,"color"));return T(()=>{var m,S;const c=(m=n.default)==null?void 0:m.call(n);return c&&(o.value=(S=de(c).filter(h=>h.type===ve&&h.children&&typeof h.children=="string")[0])==null?void 0:S.children),u(i.value.component,{tag:e.tag,icon:i.value.icon,class:["v-icon","notranslate",l.value,v.value,g.value,{"v-icon--clickable":!!t.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[v.value?void 0:{fontSize:f(e.size),height:f(e.size),width:f(e.size)},r.value,e.style],role:t.onClick?"button":void 0,"aria-hidden":!t.onClick},{default:()=>[c]})}),{}}}),Re="https://us-central1-fnb-lab-71.cloudfunctions.net/plp-search",je=ge("products",()=>{const e=C([]),a=C(),t=C(0),n=C(0),o=async()=>{const g={searchTerm:a.value,pageOffset:t.value};try{let r=Re;const c=[];for(const[P,k]of Object.entries(g))c.push(`${P}=${k}`);c.length>0&&(r=`${r}?${c.join("&")}`);const m=new Request(r),h=(await(await fetch(m)).json()).data;e.value=h.products.slice(0,3),t.value=h.pageOffset,n.value=h.totalPages}catch(r){alert(r.message)}};return{products:e,searchProducts:async g=>{a.value=g,await o()},nextProductPage:async()=>{t.value<n.value-1?t.value=t.value+1:t.value=0,await o()},previousProductPage:async()=>{t.value>0?t.value=t.value-1:t.value=n.value-1,await o()}}});export{Ce as I,I as M,Te as V,me as a,$e as b,Pe as c,ye as d,Ne as e,je as f,V as m,T as u};
